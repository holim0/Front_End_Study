# [2020/10/04]





### JSë¡œ í¬ë¡¬ ì•± ë§Œë“¤ê¸° :globe_with_meridians:



</br> </br>



#### localStorage ( => sessionStorage ë¹„êµ í•„ìš”)

</br>

:arrow_right: ì‚¬ìš©ìì˜ ë¡œì»¬ì— ë°ì´í„°ë¥¼ ì €ì¥ì‹œí‚¬ ìˆ˜ ìˆë‹¤. 

:arrow_right: key-value ì˜ ìŒìœ¼ë¡œ ì €ì¥ë˜ëŠ”ë° ëª¨ë‘ string ê°’ì´ë‹¤. 

</br>

**[Method]**

- `setItem(key, value)` â€“ í‚¤-ê°’ ìŒì„ ë³´ê´€í•©ë‹ˆë‹¤.
- `getItem(key)` â€“ í‚¤ì— í•´ë‹¹í•˜ëŠ” ê°’ì„ ë°›ì•„ì˜µë‹ˆë‹¤.
- `removeItem(key)` â€“ í‚¤ì™€ í•´ë‹¹ ê°’ì„ ì‚­ì œí•©ë‹ˆë‹¤.
- `clear()` â€“ ëª¨ë“  ê²ƒì„ ì‚­ì œí•©ë‹ˆë‹¤.
- `key(index)` â€“ ì¸ë±ìŠ¤(`index`)ì— í•´ë‹¹í•˜ëŠ” í‚¤ë¥¼ ë°›ì•„ì˜µë‹ˆë‹¤.
- `length` â€“ ì €ì¥ëœ í•­ëª©ì˜ ê°œìˆ˜ë¥¼ ì–»ìŠµë‹ˆë‹¤.



</br>

```js
function saveName(text) {
    localStorage.setItem(USER_LS, text); //USER_LS-text ìŒìœ¼ë¡œ ë¡œì»¬ì— ì €ì¥í•œë‹¤. 
}

function loadName() {
    const cur = localStorage.getItem(USER_LS);   // keyì¸ USER_LSë¥¼ í†µí•´ì„œ valueë¥¼ ê°€ì§€ê³  ì˜¨ë‹¤. 

    if (cur === null) {
        console.log("hihi");
        askForName();
    } else {
        paintGreeting(cur);
    }
}




```



</br></br>





#### JSON.parse() & JSON.stringfy()

</br>

- `JSON.stringify` â€“ ê°ì²´ë¥¼ JSONìœ¼ë¡œ ë°”ê¿”ì¤€ë‹¤. (ë¬¸ìì—´ë¡œ)
- `JSON.parse` â€“ JSONì„ ê°ì²´ë¡œ ë°”ê¿”ì¤€ë‹¤ (Js object í˜•íƒœë¡œ)

</br>

```js
function loadTodos() {
    const loadedtoDos = localStorage.getItem(TODOS_LS);   // keyê°’ìœ¼ë¡œ valueë¥¼ ë¡œì»¬ì—ì„œ ê°€ì§€ê³  ì˜¨ë‹¤. (string)

    if (loadedtoDos !== null) {
        const parsedToDos = JSON.parse(loadedtoDos); // Object ë¡œ ë³€í™˜.
        parsedToDos.forEach((toDo) => {
            paintToDo(toDo.text);
        });
    }
}
```









</br></br>





#### filter

:arrow_right: `find` ë©”ì„œë“œëŠ” í•¨ìˆ˜ì˜ ë°˜í™˜ ê°’ì„ `true`ë¡œ ë§Œë“œëŠ” ë‹¨ í•˜ë‚˜ì˜ ìš”ì†Œë¥¼ ì°¾ëŠ”ë‹¤.

</br>

```js
let results = arr.filter(function(item, index, array) {
  // ì¡°ê±´ì„ ì¶©ì¡±í•˜ëŠ” ìš”ì†ŒëŠ” resultsì— ìˆœì°¨ì ìœ¼ë¡œ ë”í•´ì§‘ë‹ˆë‹¤.
  // ì¡°ê±´ì„ ì¶©ì¡±í•˜ëŠ” ìš”ì†Œê°€ í•˜ë‚˜ë„ ì—†ìœ¼ë©´ ë¹ˆ ë°°ì—´ì´ ë°˜í™˜ë©ë‹ˆë‹¤.
});
```

</br>

```js
function del(e) {
    const btn = e.target;
    const li = btn.parentNode;
    todoList.removeChild(li);
    const cleanToDos = toDos.filter((todo) => {
        return todo.id !== parseInt(li.id);    // ê°™ì§€ ì•Šì€ ê²ƒë§Œ ë¦¬í„´í•œë‹¤. 
    });
    toDos = cleanToDos;   // filter ê°€ ì ìš©ëœ ë°°ì—´ì„ ê¸°ì¡´ ë°°ì—´ì— ê°±ì‹ í•´ì¤€ë‹¤. 
    saveToDos();
}
```





</br> </br>





#### fetch

:arrow_right: ì„œë²„ì—ì„œ ì •ë³´ë¥¼ ê°€ì§€ê³  ì˜¬ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. 

:arrow_right: fetchëŠ” promiseë¥¼ return í•œë‹¤. 

</br>

```js
let promise = fetch(url, [options])


let response = await fetch(url);

if (response.ok) { // HTTP ìƒíƒœ ì½”ë“œê°€ 200~299ì¼ ê²½ìš°
  // ì‘ë‹µ ëª¬ë¬¸ì„ ë°›ìŠµë‹ˆë‹¤(ê´€ë ¨ ë©”ì„œë“œëŠ” ì•„ë˜ì—ì„œ ì„¤ëª…).
  let json = await response.json();
} else {
  alert("HTTP-Error: " + response.status);
}
```

</br>

- **`response.text()`** â€“ ì‘ë‹µì„ ì½ê³  í…ìŠ¤íŠ¸ë¥¼ ë°˜í™˜
- **`response.json()`** â€“ ì‘ë‹µì„ JSON í˜•íƒœë¡œ íŒŒì‹±

</br>

```js
function getWeather(lat, lng) {
    fetch(   // ì˜¤í”ˆ api urlë¥¼ í†µí•´ì„œ ì •ë³´ë¥¼ ê°€ì§€ê³  ì˜¨ë‹¤. 
        `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lng}&appid=${API_KEY}&units=metric`
    )
        .then((respon) => {
            return respon.json(); //json í˜•íƒœë¡œ ì‘ë‹µì„ íŒŒì‹±í•œë‹¤.
        })
        .then((respon) => {
            const temp = respon.main.temp;
            const place = respon.name;
            weather.innerText = `${temp} at ${place}`;
        });
}


////////async/await ë²„ì „//////////////

async function getWeather(lat, lng) {
    try {
        const result = await fetch(
            `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lng}&appid=${API_KEY}&units=metric`
        );

        const json = await result.json();

        const temp = json.main.temp;
        const place = json.name;
        weather.innerText = `${temp} at ${place}`;
    } catch {
        alert("Error!");
    }
}

```



</br></br>



#### `navigator.geolocation.getCurrentPosition(success, error)`

:arrow_right: ì¥ì¹˜ì˜ í˜„ì¬ ìœ„ì¹˜ë¥¼ ê°€ì§€ê³  ì˜¨ë‹¤. 

</br>

```js
function askForCoords() {
    navigator.geolocation.getCurrentPosition(handleGeoSuces, handleGeoError);
}

function handleGeoSuces(pos) {     // ì„±ê³µí–ˆì„ ë•Œ
    const latitude = pos.coords.latitude;
    const longitude = pos.coords.longitude;
    const coordObj = {
        latitude,
        longitude,
    };

    localStorage.setItem(COORDS, JSON.stringify(coordObj)); // localstorageì— ì €ì¥.
    getWeather(latitude, longitude);
}

function handleGeoError() {      // ì‹¤íŒ¨í–ˆì„ ë•Œ
    console.log("cant access geo location");
}

```

</br></br>





#### + CSS `@keyframes`

:arrow_right: ê°œë°œìê°€ ì• ë‹ˆë©”ì´ì…˜ ì¤‘ê°„ì¤‘ê°„ì˜ íŠ¹ì • ì§€ì ë“¤ì„ ê±°ì¹  ìˆ˜ ìˆëŠ” í‚¤í”„ë ˆì„ë“¤ì„ ì„¤ì •í•¨ìœ¼ë¡œì¨ CSS ì• ë‹ˆë©”ì´ì…˜ ê³¼ì •ì˜ ì¤‘ê°„ ì ˆì°¨ë¥¼ ì œì–´í•  ìˆ˜ ìˆê²Œ í•œë‹¤. 

- ì• ë‹ˆë©”ì´ì…˜ì„ ì¬ìƒí•  ê° í”„ë ˆì„ì˜ ìŠ¤íƒ€ì¼ì„ ì •ì˜í•œë‹¤. from ì†ì„±ì´ë‚˜ 0% ì†ì„±ì— ì„¤ì •í•œ ìŠ¤íƒ€ì¼ì—ì„œ ì¶œë°œí•´ to ì†ì„±ì´ë‚˜ 100% ì†ì„±ì— ì„¤ì •í•œ ìŠ¤íƒ€ì¼ë¡œ ì ì°¨ ë°”ë€Œë©´ì„œ ì• ë‹ˆë©”ì´ì…˜ì´ ì¬ìƒëœë‹¤.

  

</br>

```css
@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

```





</br></br>





#### ğŸ‰ Result 

</br>

![ìŠ¤í¬ë¦°ìƒ· 2020-10-04 ì˜¤í›„ 11 31 54](https://user-images.githubusercontent.com/48006103/95018526-4e66f580-069b-11eb-8316-61575ed50938.png)



</br>

- ì‚¬ìš©ìê°€ ì´ë¦„ì„ ì…ë ¥í•˜ë©´ localStorage ì— ì‚¬ìš©ìì˜ ì´ë¦„ì„ ì €ì¥í•œë‹¤
- todo ë¦¬ìŠ¤íŠ¸ë„ ë§ˆì°¬ê°€ì§€ë¡œ ì…ë ¥í•˜ë©´ localStorageì— ì €ì¥í•œë‹¤. 
- ì‚­ì œ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ localStorage ì—ì„œ ì‚­ì œë¥¼ í•˜ê³  ë‹¤ì‹œ ë°°ì—´ì„ ê°±ì‹ í•´ì£¼ê³  ë„ì–´ì¤€ë‹¤. 
- apië¥¼ í†µí•´ì„œ í˜„ì¬ ìœ„ì¹˜ì˜ ë‚ ì”¨ë¥¼ ê°€ì§€ê³  ì˜¨ë‹¤.  





























</br></br>